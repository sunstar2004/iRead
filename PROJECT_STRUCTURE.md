# React + Tauri æœ¬åœ°é˜…è¯»å™¨é¡¹ç›® - ç›®å½•ç»“æ„è¯´æ˜

## é¡¹ç›®æ¦‚è¿°
æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºReactæ¡†æ¶ã€é€šè¿‡Tauriæ„å»ºçš„æœ¬åœ°é˜…è¯»å™¨åº”ç”¨ï¼Œæ”¯æŒå¤šç§ä¹¦ç±æ ¼å¼çš„é˜…è¯»ã€æœ¬åœ°æ–‡ä»¶ç®¡ç†ã€å’Œä¼˜åŒ–çš„é˜…è¯»ä½“éªŒã€‚

---

## æ¨èç›®å½•ç»“æ„

### 1. **src/components/** - ä¸šåŠ¡ç»„ä»¶ç›®å½•
**ç›®çš„**: å­˜æ”¾æ‰€æœ‰Reactä¸šåŠ¡ç»„ä»¶ï¼ŒæŒ‰ç…§åŠŸèƒ½åˆ’åˆ†

#### å­ç›®å½•ç»“æ„ï¼š
```
src/components/
â”œâ”€â”€ Reader/                    # é˜…è¯»å™¨ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ Reader.tsx            # æ ¸å¿ƒé˜…è¯»å™¨ç»„ä»¶
â”‚   â”œâ”€â”€ Reader.css
â”‚   â”œâ”€â”€ PageNavigation.tsx     # é¡µé¢å¯¼èˆªç»„ä»¶
â”‚   â”œâ”€â”€ BookmarkPanel.tsx      # ä¹¦ç­¾é¢æ¿
â”‚   â””â”€â”€ AnnotationPanel.tsx    # ç¬”è®°ä¸æ ‡æ³¨é¢æ¿
â”œâ”€â”€ BookLibrary/               # ä¹¦åº“ç®¡ç†ç»„ä»¶
â”‚   â”œâ”€â”€ BookLibrary.tsx        # ä¹¦åº“ä¸»å®¹å™¨
â”‚   â”œâ”€â”€ BookGrid.tsx           # ä¹¦ç±ç½‘æ ¼æ˜¾ç¤º
â”‚   â”œâ”€â”€ BookCard.tsx           # å•æœ¬ä¹¦ç±å¡ç‰‡
â”‚   â”œâ”€â”€ SearchBar.tsx          # æœç´¢æ¡
â”‚   â””â”€â”€ FilterPanel.tsx        # ç­›é€‰é¢æ¿
â”œâ”€â”€ FileManager/               # æ–‡ä»¶ç®¡ç†ç»„ä»¶
â”‚   â”œâ”€â”€ FileUpload.tsx         # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”œâ”€â”€ FileList.tsx           # æ–‡ä»¶åˆ—è¡¨
â”‚   â””â”€â”€ DeleteConfirm.tsx      # åˆ é™¤ç¡®è®¤å¯¹è¯æ¡†
â”œâ”€â”€ Settings/                  # è®¾ç½®é¢æ¿
â”‚   â”œâ”€â”€ SettingsPanel.tsx      # è®¾ç½®ä¸»é¢æ¿
â”‚   â”œâ”€â”€ DisplaySettings.tsx    # æ˜¾ç¤ºè®¾ç½®ï¼ˆå­—ä½“ã€å­—å·ã€ä¸»é¢˜ï¼‰
â”‚   â”œâ”€â”€ AppSettings.tsx        # åº”ç”¨è®¾ç½®
â”‚   â””â”€â”€ AboutPanel.tsx         # å…³äºé¡µé¢
â”œâ”€â”€ Common/                    # é€šç”¨UIç»„ä»¶
â”‚   â”œâ”€â”€ Header.tsx             # å¤´éƒ¨å¯¼èˆªæ 
â”‚   â”œâ”€â”€ Sidebar.tsx            # ä¾§è¾¹æ 
â”‚   â”œâ”€â”€ Modal.tsx              # æ¨¡æ€æ¡†
â”‚   â”œâ”€â”€ Button.tsx             # æŒ‰é’®ç»„ä»¶
â”‚   â”œâ”€â”€ Menu.tsx               # èœå•ç»„ä»¶
â”‚   â””â”€â”€ Toast.tsx              # æç¤ºç»„ä»¶
â””â”€â”€ Layout/                    # å¸ƒå±€ç»„ä»¶
    â”œâ”€â”€ MainLayout.tsx         # ä¸»å¸ƒå±€
    â””â”€â”€ ReaderLayout.tsx       # é˜…è¯»å™¨ä¸“ç”¨å¸ƒå±€
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] å®ç°å®Œæ•´çš„é¡µé¢å¯¼èˆªå’Œç¿»é¡µé€»è¾‘
- [ ] ä¹¦ç­¾ã€ç¬”è®°å’Œæ ‡æ³¨åŠŸèƒ½çš„UI
- [ ] ä¹¦åº“æµè§ˆå’Œæœç´¢åŠŸèƒ½
- [ ] æ–‡ä»¶æ‹–æ‹½ä¸Šä¼ 
- [ ] è®¾ç½®é¢æ¿ï¼ˆå­—ä½“å¤§å°ã€è¡Œè·ã€èƒŒæ™¯è‰²ç­‰ï¼‰
- [ ] å“åº”å¼è®¾è®¡

---

### 2. **src/hooks/** - è‡ªå®šä¹‰React Hooksç›®å½•
**ç›®çš„**: å­˜æ”¾å¯å¤ç”¨çš„ä¸šåŠ¡é€»è¾‘hooks

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/hooks/
â”œâ”€â”€ useBookData.ts            # ä¹¦ç±æ•°æ®è·å–å’Œç®¡ç†
â”œâ”€â”€ useReaderState.ts         # é˜…è¯»å™¨çŠ¶æ€ç®¡ç†ï¼ˆå½“å‰é¡µã€è¿›åº¦ç­‰ï¼‰
â”œâ”€â”€ useLocalStorage.ts        # æœ¬åœ°å­˜å‚¨ç®¡ç†
â”œâ”€â”€ useFileUpload.ts          # æ–‡ä»¶ä¸Šä¼ é€»è¾‘
â”œâ”€â”€ useBookmarks.ts           # ä¹¦ç­¾ç®¡ç†é€»è¾‘
â”œâ”€â”€ useAnnotations.ts         # ç¬”è®°æ ‡æ³¨ç®¡ç†
â”œâ”€â”€ useTauriApi.ts            # Tauri APIè°ƒç”¨
â”œâ”€â”€ useTheme.ts               # ä¸»é¢˜ç®¡ç†
â””â”€â”€ useSearch.ts              # æœç´¢åŠŸèƒ½é€»è¾‘
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] ä¸åç«¯APIçš„æ•°æ®äº¤äº’
- [ ] Tauri APIé›†æˆï¼ˆæ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼‰
- [ ] çŠ¶æ€æŒä¹…åŒ–
- [ ] ä¹¦ç±æ•°æ®ç¼“å­˜

---

### 3. **src/services/** - æœåŠ¡å±‚ç›®å½•
**ç›®çš„**: ä¸åç«¯APIå’ŒTauri APIçš„äº¤äº’é€»è¾‘

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/services/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ client.ts             # APIå®¢æˆ·ç«¯é…ç½®
â”‚   â”œâ”€â”€ bookApi.ts            # ä¹¦ç±ç›¸å…³API
â”‚   â”œâ”€â”€ userApi.ts            # ç”¨æˆ·æ•°æ®API
â”‚   â””â”€â”€ annotationApi.ts      # ç¬”è®°API
â”œâ”€â”€ tauri/
â”‚   â”œâ”€â”€ fileManager.ts        # æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
â”‚   â”œâ”€â”€ bookParser.ts         # ä¹¦ç±è§£æï¼ˆEPUBã€PDFç­‰ï¼‰
â”‚   â””â”€â”€ storageManager.ts     # æœ¬åœ°å­˜å‚¨ç®¡ç†
â””â”€â”€ localStorage/
    â””â”€â”€ storage.ts            # localStorageå·¥å…·å‡½æ•°
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] HTTPè¯·æ±‚æ‹¦æˆªå’Œé”™è¯¯å¤„ç†
- [ ] æ–‡ä»¶è¯»å–å’Œè§£æ
- [ ] ä¹¦ç±æ ¼å¼æ”¯æŒï¼ˆEPUBã€PDFã€TXTç­‰ï¼‰
- [ ] æ•°æ®åŒæ­¥

---

### 4. **src/store/** - çŠ¶æ€ç®¡ç†ç›®å½•
**ç›®çš„**: ä½¿ç”¨Reduxã€Zustandæˆ–Context APIè¿›è¡Œå…¨å±€çŠ¶æ€ç®¡ç†

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/store/
â”œâ”€â”€ slices/                   # Redux slices (å¦‚ä½¿ç”¨Redux)
â”‚   â”œâ”€â”€ bookSlice.ts         # ä¹¦ç±ç›¸å…³çŠ¶æ€
â”‚   â”œâ”€â”€ readerSlice.ts       # é˜…è¯»å™¨çŠ¶æ€
â”‚   â”œâ”€â”€ userSlice.ts         # ç”¨æˆ·ä¿¡æ¯çŠ¶æ€
â”‚   â””â”€â”€ settingsSlice.ts     # è®¾ç½®çŠ¶æ€
â”œâ”€â”€ context/                  # Context (å¦‚ä½¿ç”¨Context API)
â”‚   â”œâ”€â”€ BookContext.tsx
â”‚   â”œâ”€â”€ ReaderContext.tsx
â”‚   â””â”€â”€ SettingsContext.tsx
â””â”€â”€ store.ts                  # å­˜å‚¨é…ç½®æ–‡ä»¶
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] å…¨å±€çŠ¶æ€ç®¡ç†
- [ ] ä¹¦ç±åˆ—è¡¨çŠ¶æ€
- [ ] ç”¨æˆ·é˜…è¯»è¿›åº¦
- [ ] åº”ç”¨è®¾ç½®çŠ¶æ€

---

### 5. **src/types/** - TypeScriptç±»å‹å®šä¹‰ç›®å½•
**ç›®çš„**: ç»Ÿä¸€ç®¡ç†æ‰€æœ‰TypeScriptæ¥å£å’Œç±»å‹å®šä¹‰

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/types/
â”œâ”€â”€ book.ts                   # ä¹¦ç±ç›¸å…³ç±»å‹
â”œâ”€â”€ reader.ts                 # é˜…è¯»å™¨ç›¸å…³ç±»å‹
â”œâ”€â”€ user.ts                   # ç”¨æˆ·ç›¸å…³ç±»å‹
â”œâ”€â”€ annotation.ts             # ç¬”è®°å’Œæ ‡æ³¨ç±»å‹
â”œâ”€â”€ api.ts                    # APIå“åº”ç±»å‹
â””â”€â”€ common.ts                 # é€šç”¨ç±»å‹
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] å®Œæ•´çš„ç±»å‹å®šä¹‰æ–‡æ¡£
- [ ] APIå“åº”ç±»å‹
- [ ] ä¸šåŠ¡å¯¹è±¡ç±»å‹

---

### 6. **src/utils/** - å·¥å…·å‡½æ•°ç›®å½•
**ç›®çš„**: å­˜æ”¾å„ç±»å·¥å…·å‡½æ•°å’Œè¾…åŠ©å‡½æ•°

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/utils/
â”œâ”€â”€ format.ts                 # æ ¼å¼åŒ–å‡½æ•°ï¼ˆæ—¥æœŸã€æ–‡ä»¶å¤§å°ç­‰ï¼‰
â”œâ”€â”€ validation.ts             # æ•°æ®éªŒè¯
â”œâ”€â”€ constants.ts              # å¸¸é‡å®šä¹‰
â”œâ”€â”€ colors.ts                 # ä¸»é¢˜é¢œè‰²é…ç½®
â”œâ”€â”€ bookParser/
â”‚   â”œâ”€â”€ epubParser.ts         # EPUBæ ¼å¼è§£æ
â”‚   â”œâ”€â”€ pdfParser.ts          # PDFæ ¼å¼è§£æ
â”‚   â””â”€â”€ txtParser.ts          # çº¯æ–‡æœ¬è§£æ
â””â”€â”€ helpers.ts                # é€šç”¨è¾…åŠ©å‡½æ•°
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] å¤šæ ¼å¼ä¹¦ç±è§£æ
- [ ] æ•°æ®æ ¼å¼åŒ–
- [ ] å·¥å…·å‡½æ•°åº“

---

### 7. **src/pages/** - é¡µé¢ç»„ä»¶ç›®å½•
**ç›®çš„**: å­˜æ”¾è·¯ç”±å¯¹åº”çš„é¡µé¢çº§ç»„ä»¶

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/pages/
â”œâ”€â”€ HomePage.tsx              # é¦–é¡µ/ä¹¦åº“
â”œâ”€â”€ ReaderPage.tsx            # é˜…è¯»é¡µé¢
â”œâ”€â”€ SettingsPage.tsx          # è®¾ç½®é¡µé¢
â”œâ”€â”€ BookDetailsPage.tsx       # ä¹¦ç±è¯¦æƒ…é¡µ
â””â”€â”€ SearchResultsPage.tsx     # æœç´¢ç»“æœé¡µ
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] é¡µé¢è·¯ç”±é…ç½®
- [ ] é¡µé¢çº§ç»„ä»¶

---

### 8. **src/assets/** - é™æ€èµ„æºç›®å½•
**ç›®çš„**: å­˜æ”¾å›¾ç‰‡ã€å›¾æ ‡ã€å­—ä½“ç­‰é™æ€æ–‡ä»¶

#### å­ç›®å½•ç»“æ„ï¼š
```
src/assets/
â”œâ”€â”€ images/
â”‚   â”œâ”€â”€ icons/                # å›¾æ ‡æ–‡ä»¶
â”‚   â”œâ”€â”€ logo/                 # Logoæ–‡ä»¶
â”‚   â””â”€â”€ placeholder/          # å ä½å›¾
â”œâ”€â”€ fonts/                    # å­—ä½“æ–‡ä»¶ï¼ˆé˜…è¯»ä¼˜åŒ–å­—ä½“ï¼‰
â””â”€â”€ styles/                   # å…¨å±€æ ·å¼æˆ–Scsså˜é‡
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] è®¾è®¡èµ„æºå¯¼å…¥
- [ ] å­—ä½“é…ç½®

---

### 9. **src/styles/** - æ ·å¼æ–‡ä»¶ç›®å½•
**ç›®çš„**: ç»Ÿä¸€ç®¡ç†å…¨å±€æ ·å¼

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/styles/
â”œâ”€â”€ index.css                 # å…¨å±€æ ·å¼
â”œâ”€â”€ variables.css             # CSSå˜é‡å®šä¹‰ï¼ˆé¢œè‰²ã€å­—ä½“ç­‰ï¼‰
â”œâ”€â”€ reader.css                # é˜…è¯»å™¨ä¸“ç”¨æ ·å¼
â”œâ”€â”€ themes/
â”‚   â”œâ”€â”€ light.css            # æµ…è‰²ä¸»é¢˜
â”‚   â”œâ”€â”€ dark.css             # æ·±è‰²ä¸»é¢˜
â”‚   â””â”€â”€ sepia.css            # å¤å¤çº¸è´¨é£æ ¼ä¸»é¢˜
â””â”€â”€ responsive.css            # å“åº”å¼æ ·å¼
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] ä¸»é¢˜ç³»ç»Ÿ
- [ ] å“åº”å¼è®¾è®¡
- [ ] é˜…è¯»å™¨ä¼˜åŒ–æ ·å¼

---

### 10. **src/config/** - é…ç½®æ–‡ä»¶ç›®å½•
**ç›®çš„**: å­˜æ”¾åº”ç”¨é…ç½®

#### æ–‡ä»¶åˆ—è¡¨ï¼š
```
src/config/
â”œâ”€â”€ api.config.ts            # APIç«¯ç‚¹é…ç½®
â”œâ”€â”€ app.config.ts            # åº”ç”¨é…ç½®ï¼ˆç‰ˆæœ¬ã€åç§°ç­‰ï¼‰
â”œâ”€â”€ reader.config.ts         # é˜…è¯»å™¨é»˜è®¤é…ç½®
â””â”€â”€ env.ts                    # ç¯å¢ƒå˜é‡å¤„ç†
```

**éœ€å®ŒæˆåŠŸèƒ½**:
- [ ] APIç«¯ç‚¹é…ç½®
- [ ] ç¯å¢ƒå˜é‡ç®¡ç†
- [ ] åº”ç”¨å…¨å±€é…ç½®

---

## æ ¸å¿ƒåŠŸèƒ½å®ç°æ¸…å•

### ğŸ“– é˜…è¯»åŠŸèƒ½
- [ ] å¤šæ ¼å¼ä¹¦ç±æ”¯æŒï¼ˆEPUBã€PDFã€TXTï¼‰
- [ ] é¡µé¢ç¿»é˜…ï¼ˆä¸Šä¸€é¡µã€ä¸‹ä¸€é¡µã€è·³è½¬ï¼‰
- [ ] ç›®å½•å¯¼èˆª
- [ ] ä¹¦ç­¾åŠŸèƒ½
- [ ] ç¬”è®°å’Œæ ‡æ³¨ç³»ç»Ÿ
- [ ] æœç´¢å’Œé«˜äº®åŠŸèƒ½
- [ ] é˜…è¯»è¿›åº¦ä¿å­˜

### ğŸ¨ æ˜¾ç¤ºè®¾ç½®
- [ ] å­—ä½“é€‰æ‹©å’Œå¤§å°è°ƒæ•´
- [ ] è¡Œè·å’Œæ®µè·è°ƒæ•´
- [ ] èƒŒæ™¯é¢œè‰²ä¸»é¢˜ï¼ˆæµ…è‰²ã€æ·±è‰²ã€çº¸è´¨ï¼‰
- [ ] äº®åº¦è°ƒæ•´
- [ ] å…¨å±é˜…è¯»æ¨¡å¼

### ğŸ“š ä¹¦åº“ç®¡ç†
- [ ] æœ¬åœ°ä¹¦ç±åˆ—è¡¨å±•ç¤º
- [ ] ä¹¦ç±ä¸Šä¼ å’Œå¯¼å…¥
- [ ] ä¹¦ç±æœç´¢å’Œç­›é€‰
- [ ] ä¹¦ç±åˆ é™¤
- [ ] ä¹¦ç±è¯¦æƒ…å±•ç¤º

### âš™ï¸ å…¶ä»–åŠŸèƒ½
- [ ] Tauriæ¡Œé¢é›†æˆ
- [ ] æ–‡ä»¶ç³»ç»Ÿæ“ä½œ
- [ ] æœ¬åœ°æ•°æ®æŒä¹…åŒ–
- [ ] è®¾ç½®ä¿å­˜å’Œæ¢å¤
- [ ] åº”ç”¨æ›´æ–°æ£€æŸ¥

---

## ä¾èµ–åŒ…å»ºè®®

### æ ¸å¿ƒä¾èµ–
```json
{
  "dependencies": {
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "@tauri-apps/api": "^1.x",      // Tauri API
    "zustand": "^4.x",               // çŠ¶æ€ç®¡ç†ï¼ˆè½»é‡çº§ï¼‰
    "react-router-dom": "^6.x"      // è·¯ç”±ç®¡ç†
  },
  "devDependencies": {
    "typescript": "^5.x",
    "vite": "latest",
    "@vitejs/plugin-react-swc": "^4.x"
  }
}
```

### å¯é€‰æ‰©å±•åº“
```json
{
  "epub": "^3.x",              // EPUBè§£æ
  "pdfjs-dist": "^3.x",        // PDFè§£æ
  "fuse.js": "^6.x",           // æœ¬åœ°æœç´¢
  "dayjs": "^1.x"              // æ—¥æœŸå¤„ç†
}
```

---

## å¼€å‘æµç¨‹å»ºè®®

1. **Phase 1**: æ­å»ºåŸºç¡€é¡¹ç›®ç»“æ„å’Œè·¯ç”±
2. **Phase 2**: å®ç°ä¹¦åº“æµè§ˆå’Œæ–‡ä»¶ç®¡ç†
3. **Phase 3**: å¼€å‘æ ¸å¿ƒé˜…è¯»å™¨åŠŸèƒ½
4. **Phase 4**: æ·»åŠ ä¹¦ç­¾ã€ç¬”è®°ç­‰é«˜çº§åŠŸèƒ½
5. **Phase 5**: UI/UXä¼˜åŒ–å’Œä¸»é¢˜ç³»ç»Ÿ
6. **Phase 6**: æ€§èƒ½ä¼˜åŒ–å’ŒTauriæ‰“åŒ…

---

## å¿«é€Ÿå¼€å§‹å‘½ä»¤

```bash
# ç”Ÿæˆæ¨èç›®å½•ç»“æ„
mkdir -p src/{components/{Reader,BookLibrary,FileManager,Settings,Common,Layout},hooks,services/{api,tauri,localStorage},store/{slices,context},types,utils/{bookParser},pages,assets/{images/icons,fonts,styles},styles/themes,config}

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»º
npm run build
```

---

**æœ€åæ›´æ–°**: 2026å¹´1æœˆ30æ—¥
**ç»´æŠ¤è€…**: AI Assistant
